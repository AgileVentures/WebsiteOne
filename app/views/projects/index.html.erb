<% provide :title, 'Projects' %>
<div class="row">
  <div class="col-xs-9">
    <h1 id="projects-header">List of Projects</h1>
  </div>
  <div class="col-xs-3">
  <% if user_signed_in? %>
    <ul class="user-controls new-project-btn">
      <li><%= custom_css_btn 'new project', 'fa-2x fa fa-plus', new_project_path %></li>
    </ul>
  <% end %>
  </div>
</div>
<div class="">
<% if @projects.empty? %>
  <p>We have no projects right now&#8230;</p>
<% else %>
  <p>
    To get involved in any of the projects, join one of the <%= link_to 'scrums', events_path %> and reach out to us,
    or send us an email at <a href="mailto:info@agileventures.org">info@agileventures.org</a>.
  </p>
</div>
<div class="row stack-search">
<%= simple_form_for(@project, params: :stack_filter, method: "get", remote: true, html: {class: 'form-vertical', id: 'stack'}) do |f| %>
  <div class="col-xs-9">
    <%= f.input :stacks, label: 'Search for project by tech stack', collection: @projects_stacks_array.uniq %>
  </div>
  <div class="col-xs-3 stack-search-btn">
    <%= f.button :submit, 'Search', class: 'btn btn-info' %>
  </div>
</div>
<% end %>

<div class="row">
    <ul id="project-list" style="list-style: none; padding-left: 0;">
      <% @projects.each do |project| %>
      <div class="col-xs-4">
        <%= render 'listing', project: project %>
      </div>
      <% end %>
    </ul>
    <%= will_paginate @projects %>
</div>
<% end %>
